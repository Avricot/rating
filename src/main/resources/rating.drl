#created on: Dec 14, 2011
package karl

#list any import classes here.

import java.util.HashMap;
import java.util.Map;
import org.slf4j.LoggerFactory;
import org.avricot.rating.model.company.Company;
import org.avricot.rating.model.rating.RatingProperty;
import org.avricot.rating.model.rating.RatingPropertyValue;
import org.avricot.rating.model.rating.Type;

#declare any global variables here
global HashMap result
global HashMap prop
global Company company

rule "Common rules"
when
	 eval( true )
	 $company : Company()
	 $prop : Map()
then
	$sector : $company.getSector();
	result.put("OK", "sdf");
	result.put("OK_INT", "azea");
	LoggerFactory.getLogger("karl-rules").info("Ok pour les commons");
end

rule "test"
when
	Map(prop.containsKey("TEST_INT"))
then
   result.put("CONTAINS TEST", prop.get("TEST_INT"));
   LoggerFactory.getLogger("karl-rules").info("Ok pour le test");
end


rule "test sector"
when
	Company(sector.name() == "TEXTILE")
then
   result.put("sector TEXTILE", 1);
   LoggerFactory.getLogger("karl-rules").info("Ok pour le TEXTILE");
end

